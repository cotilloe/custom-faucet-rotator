$(function(){var e,t;function r(r){var a,o=$("#rotator-iframe"),s=$("#show-ajax-data-error-content"),u=$("#show-no-iframe-content");$.ajax(r,{success:function(r){o.attr("src",""),u.hide(),s.hide();var n=$("#edit-faucet-link");if(a=r.data.url,e=r.data.slug,!0===Boolean(r.data.can_show_in_iframes))o.show(),u.hide(),o.attr("src",a);else{if(o.hide(),u.find("#faucet-link").attr("href",a),u.find("#faucet-link").attr("title",'View "'+r.data.name+'" faucet in a new window'),void 0!==n){var c=laroute.route("faucets.edit",{slug:e});n.attr("href",c)}u.show()}var f=laroute.route("faucet.show",{slug:e});$("#current").attr("href",f);var i=laroute.route("payment-processors.faucets",{slug:t});$("#list_of_faucets").attr("href",i)},error:function(e,t,r){if(null!==e.responseJSON.status&&void 0!==e.responseJSON.status&&"error"===e.responseJSON.status){o.hide(),u.hide();var a=$("#error-code"),n=$("#error-message"),c=$("#sentry-id");void 0!==a&&void 0!==n&&void 0!==c&&(a.text(e.responseJSON.code),n.text(e.responseJSON.message),c.text(e.responseJSON.sentryID),s.show())}}})}t=$("#title").data("payment-processor-slug"),r(laroute.route("payment-processor.first-faucet",{paymentProcessorSlug:t})),$("#first_faucet").click(function(e){e.preventDefault(),r(laroute.route("payment-processor.first-faucet",{paymentProcessorSlug:t}))}),$("#next_faucet").click(function(a){a.preventDefault(),r(laroute.route("payment-processor.next-faucet",{paymentProcessorSlug:t,faucetSlug:e}))}),$("#previous_faucet").click(function(a){a.preventDefault(),r(laroute.route("payment-processor.previous-faucet",{paymentProcessorSlug:t,faucetSlug:e}))}),$("#last_faucet").click(function(e){e.preventDefault(),r(laroute.route("payment-processor.last-faucet",{paymentProcessorSlug:t}))}),$("#reload_current").click(function(a){a.preventDefault(),r(laroute.route("payment-processor.faucet",{paymentProcessorSlug:t,faucetSlug:e}))}),$("#random").click(function(e){e.preventDefault(),r(laroute.route("payment-processor.random-faucet",{paymentProcessorSlug:t}))})});